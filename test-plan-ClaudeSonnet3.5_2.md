# HOTEL PLANISPHERE テスト実施計画書

## 1. テスト概要

### 1.1 テスト対象
- **サイト**: HOTEL PLANISPHERE
- **URL**: https://hotel-example-site.takeyaqa.dev/ja/
- **対象機能**: 
  - ホテル予約システム
  - ユーザー認証
  - 宿泊プラン検索・閲覧
  - マイページ機能

### 1.2 テスト目的
- 主要なユーザーフローの機能性確認
- 予約システムの正確性検証
- ユーザーインターフェースの一貫性確認
- エラー処理の適切性確認
- セキュリティ要件の検証

### 1.3 テストスコープ
**インスコープ**:
- フロントエンド機能テスト
- ユーザーフロー検証
- 入力バリデーション
- エラー処理
- レスポンシブデザイン
- セキュリティ基本要件

**アウトオブスコープ**:
- パフォーマンステスト（詳細）
- ペネトレーションテスト
- バックエンド API の直接テスト
- 決済システムの実トランザクション

## 2. テストシナリオ

### 2.1 ベーシックフロー検証

#### TC-001: トップページ表示確認
**目的**: トップページの基本要素が正しく表示されることを確認

**手順**:
1. トップページにアクセス
2. 以下の要素の表示を確認：
   - ヘッダーロゴ
   - メインビジュアル
   - 宿泊プラン一覧
   - ログインリンク
   - フッターメニュー

**期待結果**:
- 全ての要素が正しく表示される
- リンクが正常に機能する
- レイアウトが崩れていない

#### TC-002: 宿泊プラン検索
**目的**: 検索機能の正常動作を確認

**手順**:
1. 宿泊日を入力
   - 当日以降の日付を選択
2. 宿泊数を選択（1泊）
3. 宿泊人数を入力（1名）
4. 「検索」ボタンをクリック

**期待結果**:
- 検索条件に合致するプランが表示される
- 検索結果が正しくソートされている
- 該当プランがない場合は適切なメッセージが表示される

#### TC-003: 宿泊予約（基本フロー）
**目的**: 予約プロセスの正常動作を確認

**手順**:
1. プラン選択
   - 任意の宿泊プランをクリック
2. 予約情報入力
   - 宿泊日: 翌日以降を選択
   - 宿泊数: 1
   - 宿泊人数: 1
   - 氏名: "テスト太郎"
   - メール: "test@example.com"
   - 連絡方法: "メール"
3. オプション選択
   - 朝食: 選択
4. 「予約内容を確認する」クリック
5. 確認画面で「予約を確定する」クリック

**期待結果**:
- 予約が正常に完了する
- 予約完了画面が表示される
- 確認メールが送信される（設定されている場合）

#### TC-004: ログイン機能
**目的**: ユーザー認証の正常動作を確認

**手順**:
1. ログインページにアクセス
2. 認証情報を入力
   - メール: "ichiro@example.com"
   - パスワード: "password123"
3. 「ログイン」ボタンをクリック

**期待結果**:
- ログインが成功する
- マイページにリダイレクトされる
- ユーザー情報が表示される

### 2.2 エラー系統のテスト

#### TC-005: 入力バリデーション
**目的**: フォームの入力チェックを確認

**テストケース**:
1. 必須項目の空入力
2. 不正な日付形式
3. 無効なメールアドレス形式
4. 文字数制限超過
5. 特殊文字の入力

**期待結果**:
- 適切なエラーメッセージが表示される
- フォームの送信がブロックされる
- 入力済み値が保持される

#### TC-006: 不正ログイン試行
**目的**: 認証エラーの適切な処理を確認

**テストケース**:
1. 存在しないユーザー
2. 誤ったパスワード
3. ロックアウト条件（複数回失敗）

**期待結果**:
- エラーメッセージが表示される
- アカウントロックの仕組みが機能する
- セキュリティリスクを最小限に抑える

### 2.3 境界値テスト

#### TC-007: 予約人数制限
**テストケース**:
1. 最小人数（1名）
2. 最大人数
3. 最大人数+1
4. 0名

**期待結果**:
- 有効範囲内: 予約が可能
- 範囲外: エラーメッセージ表示

#### TC-008: 宿泊日選択
**テストケース**:
1. 当日予約
2. 翌日予約
3. 最長先の予約可能日
4. 過去の日付
5. 無効な日付形式

**期待結果**:
- 予約可能日: 正常に進行
- 予約不可日: エラーメッセージ表示

### 2.4 UI/UXテスト

#### TC-009: レスポンシブデザイン
**テスト環境**:
1. デスクトップ（1920x1080）
2. タブレット（768x1024）
3. スマートフォン（375x667）

**確認項目**:
- レイアウトの一貫性
- タッチ操作の有効性
- 画像の表示品質
- フォームの使いやすさ

#### TC-010: アクセシビリティ
**確認項目**:
1. キーボードナビゲーション
2. スクリーンリーダー対応
3. 色のコントラスト
4. フォームラベルの関連付け

### 2.5 セキュリティテスト

#### TC-011: 基本的なセキュリティ確認
**テストケース**:
1. SSL/TLS対応
2. セッション管理
3. CSRF対策
4. XSS対策（基本的な入力）

## 3. テスト環境

### 3.1 ブラウザ環境
- Chrome latest
- Firefox latest
- Safari latest
- Edge latest

### 3.2 テストツール
- Playwright
- ブラウザの開発者ツール
- アクセシビリティ検証ツール

## 4. テスト実行手順

### 4.1 準備
1. テスト環境のセットアップ
2. テストデータの準備
3. テストアカウントの確認

### 4.2 実行順序
1. 基本機能テスト（TC-001 ～ TC-004）
2. エラーケース（TC-005, TC-006）
3. 境界値テスト（TC-007, TC-008）
4. UI/UXテスト（TC-009, TC-010）
5. セキュリティテスト（TC-011）

### 4.3 実行時の注意点
- テスト実行前に環境をクリーンアップ
- テスト間で独立性を確保
- エラーケースの実行後は正常系の確認を行う

## 5. 報告形式

### 5.1 バグ報告項目
- バグID
- 重要度
- 再現手順
- 期待結果
- 実際の結果
- スクリーンショット
- 環境情報

### 5.2 テスト実行記録
- テストケースID
- 実行日時
- 実行者
- 結果（Pass/Fail）
- 所見

## 6. 成功基準

### 6.1 必須要件
- 全ての重要度「高」のテストケースがPass
- クリティカルなバグが存在しない
- 主要ユーザーフローが正常に動作

### 6.2 受け入れ基準
- 機能要件の95%以上がPass
- 重大なセキュリティ問題が無い
- UIが仕様通りに動作

## 7. タイムライン
- テスト準備: 1日
- 実行期間: 2-3日
- 報告書作成: 1日
- バグ修正確認: 1-2日

以上のテストプランに基づき、自動化可能な部分は Playwright を使用して自動化テストを実装します。